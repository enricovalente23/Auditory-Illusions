<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound Wave</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/wavesurfer.js"></script>

</head>


<body>
    <div class="hero">
        <div class="music">
            <img src="../../Images/stereobello.jpg">
            <div class="info">
                <h1>YAMAHA NETWORK CRX-N470D</h1>
                <p>One of the most appreciated stereo systems of the last decade</p>
                <p>Market Price: 1199$</p>
                <div id="waveform"></div>
                <div class="controls">
                    <img src="../../Images/media/play.png" id="playBtn">
                    <img src="../../Images/media/stop.png" id="stopBtn">
                    <img src="../../Images/media/volume.png" id="volumeBtn">
                </div>
            </div>
        </div>
    </div>


<script>

    var playBtn = document.getElementById("playBtn")
    var stopBtn = document.getElementById("stopBtn")
    var volumeBtn = document.getElementById("volumeBtn")

    var wavesurfer = WaveSurfer.create({
        container: '#waveform',
        waveColor: '#dde5ec',
        progressColor: '#03cebf',
        barWidth: 4,
        height: 120,
        responsive: true,
        hideScrollbar: true,
        barRadius: 4,
    });

    wavesurfer.load('../../Audio Files/ALO - Speed Of Dreams TAGLIATA.mp3');



    playBtn.onclick = function() {
        wavesurfer.playPause()
        if(playBtn.src.includes("play.png")){
            playBtn.src = "../../Images/media/pause.png";
        }
        else {
            playBtn.src = "../../Images/media/play.png";
        }
    }

    stopBtn.onclick = function() {
        wavesurfer.stop();
        playBtn.src = "../../Images/media/play.png";
    }

    volumeBtn.onclick = function() {
        wavesurfer.toggleMute()
        if(volumeBtn.src.includes("volume.png")) {
            volumeBtn.src = "../../Images/media/mute.png"
        }
        else {
            volumeBtn.src = "../../Images/media/volume.png"
        }
    }

    wavesurfer,on('finish', function () {
        playBtn.src = "../../Images/media/play.png"
        wavesurfer.stop();
    });

</script>
    
</body>


</html>